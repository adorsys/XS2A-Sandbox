{"swagger":"2.0","info":{"description":"Implementation of backend for online banking UI. We have 3 preloaded users in Ledgers: <b>marion.mueller</b>, <b>anton.brueckner</b>, <b>max.musterman</b> all with the PIN <b>12345</b>. You can use the User Login API from Ledgers <b>/users/authorise2</b> endpoint to gain an access token. Then use the access token with the prefix 'Bearer ' to Authorize on this ui.","version":"0.5.0","title":"Online banking","termsOfService":"Terms of Service: to be edited...","contact":{"name":"Adorsys GmbH","url":"https://www.adorsys.de","email":"fpo@adorsys.de"},"license":{"name":"Apache License Version 2.0","url":"https://www.apache.org/licenses/LICENSE-2.0"}},"host":"localhost:8090","basePath":"/","tags":[{"name":"Online Banking AIS","description":"Provides list of valid consents of current user"},{"name":"Online Banking Authorization","description":"Provides access to online banking"},{"name":"PSU AIS","description":"Provides access to online banking account functionality"},{"name":"PSU PIS","description":"Provides access to online banking payment functionality"},{"name":"PSU PIS Cancellation","description":"Provides access to online banking payment functionality"},{"name":"PSU SCA","description":"Provides access to one time password for strong customer authentication."}],"paths":{"/ais/accounts":{"get":{"tags":["PSU AIS"],"summary":"List fo Accessible Accounts","description":"Returns the list of all accounts linked to the connected user. Call only available to role CUSTOMER.","operationId":"getListOfAccountsUsingGET","produces":["*/*"],"parameters":[{"name":"Cookie","in":"header","description":"Cookie","required":false,"type":"string"}],"responses":{"200":{"description":"List of accounts accessible to the user.","schema":{"type":"array","items":{"$ref":"#/definitions/AccountDetailsTO"}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"security":[{"apiKey":[]}],"deprecated":false}},"/ais/auth":{"get":{"tags":["PSU AIS"],"summary":"Entry point for authenticating ais consent requests.","operationId":"aisAuthUsingGET","produces":["*/*"],"parameters":[{"name":"encryptedConsentId","in":"query","description":"encryptedConsentId","required":true,"type":"string"},{"name":"redirectId","in":"query","description":"redirectId","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/AuthorizeResponse"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/ais/piis":{"post":{"tags":["PSU AIS"],"summary":"Grant a piis consent","operationId":"grantPiisConsentUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"Cookie","in":"header","description":"Cookie","required":false,"type":"string"},{"in":"body","name":"piisConsentRequestTO","description":"piisConsentRequestTO","required":true,"schema":{"$ref":"#/definitions/PiisConsentRequest"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/PIISConsentCreateResponse"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"security":[{"apiKey":[]}],"deprecated":false}},"/ais/{encryptedConsentId}/authorisation/{authorisationId}/authCode":{"post":{"tags":["PSU AIS"],"summary":"Provides a TAN for the validation of an authorization","operationId":"authrizedConsentUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"Cookie","in":"header","description":"Cookie","required":false,"type":"string"},{"name":"authCode","in":"query","description":"authCode","required":true,"type":"string"},{"name":"authorisationId","in":"path","description":"authorisationId","required":true,"type":"string"},{"name":"encryptedConsentId","in":"path","description":"encryptedConsentId","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ConsentAuthorizeResponse"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"security":[{"apiKey":[]}],"deprecated":false}},"/ais/{encryptedConsentId}/authorisation/{authorisationId}/done":{"get":{"tags":["PSU AIS"],"summary":"Close consent session","description":"This call provides the server with the opportunity to close this session and redirect the PSU to the TPP or close the application window.","operationId":"aisDoneUsingGET","produces":["*/*"],"parameters":[{"name":"Cookie","in":"header","description":"Cookie","required":false,"type":"string"},{"name":"authorisationId","in":"path","description":"authorisationId","required":true,"type":"string"},{"name":"backToTpp","in":"query","description":"backToTpp","required":true,"type":"string"},{"name":"encryptedConsentId","in":"path","description":"encryptedConsentId","required":true,"type":"string"},{"name":"forgetConsent","in":"query","description":"forgetConsent","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ConsentAuthorizeResponse"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"security":[{"apiKey":[]}],"deprecated":false}},"/ais/{encryptedConsentId}/authorisation/{authorisationId}/login":{"post":{"tags":["PSU AIS"],"summary":"Identifies the user by login an pin. Return sca methods information","operationId":"loginUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"Cookie","in":"header","description":"Cookie","required":false,"type":"string"},{"name":"authorisationId","in":"path","description":"authorisationId","required":true,"type":"string"},{"name":"encryptedConsentId","in":"path","description":"encryptedConsentId","required":true,"type":"string"},{"name":"login","in":"query","description":"login","required":true,"type":"string"},{"name":"pin","in":"query","description":"pin","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ConsentAuthorizeResponse"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/ais/{encryptedConsentId}/authorisation/{authorisationId}/methods/{scaMethodId}":{"post":{"tags":["PSU AIS"],"summary":"Selects the SCA Method for use.","operationId":"selectMethodUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"Cookie","in":"header","description":"Cookie","required":false,"type":"string"},{"name":"authorisationId","in":"path","description":"authorisationId","required":true,"type":"string"},{"name":"encryptedConsentId","in":"path","description":"encryptedConsentId","required":true,"type":"string"},{"name":"scaMethodId","in":"path","description":"scaMethodId","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ConsentAuthorizeResponse"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"security":[{"apiKey":[]}],"deprecated":false}},"/ais/{encryptedConsentId}/authorisation/{authorisationId}/start":{"post":{"tags":["PSU AIS"],"summary":"Starts the cosent authaurization process after user selects which account to grant access to","operationId":"startConsentAuthUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"Cookie","in":"header","description":"Cookie","required":false,"type":"string"},{"in":"body","name":"aisConsent","description":"aisConsent","required":true,"schema":{"$ref":"#/definitions/AisConsentRequest"}},{"name":"authorisationId","in":"path","description":"authorisationId","required":true,"type":"string"},{"name":"encryptedConsentId","in":"path","description":"encryptedConsentId","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ConsentAuthorizeResponse"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"security":[{"apiKey":[]}],"deprecated":false}},"/ais/{encryptedConsentId}/{authorisationId}":{"delete":{"tags":["PSU AIS"],"summary":"Revoke consent","description":"This call provides the server with the opportunity to close this session and revoke consent.","operationId":"revokeConsentUsingDELETE","produces":["*/*"],"parameters":[{"name":"Cookie","in":"header","description":"Cookie","required":false,"type":"string"},{"name":"authorisationId","in":"path","description":"authorisationId","required":true,"type":"string"},{"name":"encryptedConsentId","in":"path","description":"encryptedConsentId","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ConsentAuthorizeResponse"}},"204":{"description":"No Content"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"}},"security":[{"apiKey":[]}],"deprecated":false}},"/api/v1/consents/{userLogin}":{"get":{"tags":["Online Banking AIS"],"summary":"Get List of valid AIS Consents","operationId":"consentsUsingGET","produces":["*/*"],"parameters":[{"name":"userLogin","in":"path","description":"userLogin","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"$ref":"#/definitions/AisAccountConsent"}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"security":[{"apiKey":[]}],"deprecated":false}},"/api/v1/login":{"post":{"tags":["Online Banking Authorization"],"summary":"Perform Online Banking Login","operationId":"loginUsingPOST_1","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"login","in":"header","description":"login","required":true,"type":"string"},{"name":"pin","in":"header","description":"pin","required":true,"type":"string"}],"responses":{"200":{"description":"OK"},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/pis-cancellation/{encryptedPaymentId}/authorisation/{authorisationId}/authCode":{"post":{"tags":["PSU PIS Cancellation"],"summary":"Provides a TAN for the validation of an authorization","operationId":"authorisePaymentUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"Cookie","in":"header","description":"Cookie","required":false,"type":"string"},{"name":"authCode","in":"query","description":"authCode","required":true,"type":"string"},{"name":"authorisationId","in":"path","description":"authorisationId","required":true,"type":"string"},{"name":"encryptedPaymentId","in":"path","description":"encryptedPaymentId","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/PaymentAuthorizeResponse"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"security":[{"apiKey":[]}],"deprecated":false}},"/pis-cancellation/{encryptedPaymentId}/authorisation/{authorisationId}/done":{"get":{"tags":["PSU PIS Cancellation"],"summary":"Close consent session","description":"This call provides the server with the opportunity to close this session and redirect the PSU to the TPP or close the application window.","operationId":"pisDoneUsingGET","produces":["*/*"],"parameters":[{"name":"Cookie","in":"header","description":"Cookie","required":false,"type":"string"},{"name":"authorisationId","in":"path","description":"authorisationId","required":true,"type":"string"},{"name":"backToTpp","in":"query","description":"backToTpp","required":true,"type":"string"},{"name":"encryptedPaymentId","in":"path","description":"encryptedPaymentId","required":true,"type":"string"},{"name":"forgetConsent","in":"query","description":"forgetConsent","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/PaymentAuthorizeResponse"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"security":[{"apiKey":[]}],"deprecated":false}},"/pis-cancellation/{encryptedPaymentId}/authorisation/{authorisationId}/login":{"post":{"tags":["PSU PIS Cancellation"],"summary":"Identifies the user by login an pin. Return sca methods information","operationId":"loginUsingPOST_2","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"Cookie","in":"header","description":"Cookie","required":false,"type":"string"},{"name":"authorisationId","in":"path","description":"authorisationId","required":true,"type":"string"},{"name":"encryptedPaymentId","in":"path","description":"encryptedPaymentId","required":true,"type":"string"},{"name":"login","in":"query","description":"login","required":true,"type":"string"},{"name":"pin","in":"query","description":"pin","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/PaymentAuthorizeResponse"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/pis-cancellation/{encryptedPaymentId}/authorisation/{authorisationId}/methods/{scaMethodId}":{"post":{"tags":["PSU PIS Cancellation"],"summary":"Selects the SCA Method for use.","operationId":"selectMethodUsingPOST_1","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"Cookie","in":"header","description":"Cookie","required":false,"type":"string"},{"name":"authorisationId","in":"path","description":"authorisationId","required":true,"type":"string"},{"name":"encryptedPaymentId","in":"path","description":"encryptedPaymentId","required":true,"type":"string"},{"name":"scaMethodId","in":"path","description":"scaMethodId","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/PaymentAuthorizeResponse"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"security":[{"apiKey":[]}],"deprecated":false}},"/pis/auth":{"get":{"tags":["PSU PIS"],"summary":"Entry point for authenticating payment requests.","operationId":"pisAuthUsingGET","produces":["*/*"],"parameters":[{"name":"encryptedPaymentId","in":"query","description":"encryptedPaymentId","required":true,"type":"string"},{"name":"redirectId","in":"query","description":"redirectId","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/AuthorizeResponse"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/pis/{encryptedPaymentId}/authorisation/{authorisationId}/authCode":{"post":{"tags":["PSU PIS"],"summary":"Provides a TAN for the validation of an authorization","operationId":"authrizedPaymentUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"Cookie","in":"header","description":"Cookie","required":false,"type":"string"},{"name":"authCode","in":"query","description":"authCode","required":true,"type":"string"},{"name":"authorisationId","in":"path","description":"authorisationId","required":true,"type":"string"},{"name":"encryptedPaymentId","in":"path","description":"encryptedPaymentId","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/PaymentAuthorizeResponse"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"security":[{"apiKey":[]}],"deprecated":false}},"/pis/{encryptedPaymentId}/authorisation/{authorisationId}/done":{"get":{"tags":["PSU PIS"],"summary":"Close consent session","description":"This call provides the server with the opportunity to close this session and redirect the PSU to the TPP or close the application window.","operationId":"pisDoneUsingGET_1","produces":["*/*"],"parameters":[{"name":"Cookie","in":"header","description":"Cookie","required":false,"type":"string"},{"name":"authorisationId","in":"path","description":"authorisationId","required":true,"type":"string"},{"name":"backToTpp","in":"query","description":"backToTpp","required":true,"type":"string"},{"name":"encryptedPaymentId","in":"path","description":"encryptedPaymentId","required":true,"type":"string"},{"name":"forgetConsent","in":"query","description":"forgetConsent","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/PaymentAuthorizeResponse"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"security":[{"apiKey":[]}],"deprecated":false}},"/pis/{encryptedPaymentId}/authorisation/{authorisationId}/initiate":{"post":{"tags":["PSU PIS"],"summary":"Calls the consent validation page.","operationId":"initiatePaymentUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"Cookie","in":"header","description":"Cookie","required":false,"type":"string"},{"name":"authorisationId","in":"path","description":"authorisationId","required":true,"type":"string"},{"name":"encryptedPaymentId","in":"path","description":"encryptedPaymentId","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/PaymentAuthorizeResponse"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"security":[{"apiKey":[]}],"deprecated":false}},"/pis/{encryptedPaymentId}/authorisation/{authorisationId}/login":{"post":{"tags":["PSU PIS"],"summary":"Identifies the user by login an pin. Return sca methods information","operationId":"loginUsingPOST_3","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"Cookie","in":"header","description":"Cookie","required":false,"type":"string"},{"name":"authorisationId","in":"path","description":"authorisationId","required":true,"type":"string"},{"name":"encryptedPaymentId","in":"path","description":"encryptedPaymentId","required":true,"type":"string"},{"name":"login","in":"query","description":"login","required":true,"type":"string"},{"name":"pin","in":"query","description":"pin","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/PaymentAuthorizeResponse"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/pis/{encryptedPaymentId}/authorisation/{authorisationId}/methods/{scaMethodId}":{"post":{"tags":["PSU PIS"],"summary":"Selects the SCA Method for use.","operationId":"selectMethodUsingPOST_2","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"Cookie","in":"header","description":"Cookie","required":false,"type":"string"},{"name":"authorisationId","in":"path","description":"authorisationId","required":true,"type":"string"},{"name":"encryptedPaymentId","in":"path","description":"encryptedPaymentId","required":true,"type":"string"},{"name":"scaMethodId","in":"path","description":"scaMethodId","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/PaymentAuthorizeResponse"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"security":[{"apiKey":[]}],"deprecated":false}},"/pis/{encryptedPaymentId}/{authorisationId}":{"delete":{"tags":["PSU PIS"],"summary":"Fail payment authorisation","description":"This call provides the server with the opportunity to close this session and revoke consent.","operationId":"failPaymentAuthorisationUsingDELETE","produces":["*/*"],"parameters":[{"name":"Cookie","in":"header","description":"Cookie","required":false,"type":"string"},{"name":"authorisationId","in":"path","description":"authorisationId","required":true,"type":"string"},{"name":"encryptedPaymentId","in":"path","description":"encryptedPaymentId","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/PaymentAuthorizeResponse"}},"204":{"description":"No Content"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"}},"security":[{"apiKey":[]}],"deprecated":false}},"/sca/login":{"post":{"tags":["PSU SCA"],"summary":"Identifies the user by login an pin. Return sca methods information","operationId":"loginUsingPOST_4","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"login","in":"query","description":"login","required":true,"type":"string"},{"name":"pin","in":"query","description":"pin","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/AuthorizeResponse"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/sca/{scaId}/authorisation/{authorisationId}/authCode":{"post":{"tags":["PSU SCA"],"summary":"Validate the provided authentication code.","operationId":"validateAuthCodeUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"Cookie","in":"header","description":"Cookie","required":false,"type":"string"},{"name":"authCode","in":"query","description":"authCode","required":true,"type":"string"},{"name":"authorisationId","in":"path","description":"authorisationId","required":true,"type":"string"},{"name":"scaId","in":"path","description":"scaId","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/AuthorizeResponse"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"security":[{"apiKey":[]}],"deprecated":false}},"/sca/{scaId}/authorisation/{authorisationId}/methods/{methodId}":{"post":{"tags":["PSU SCA"],"summary":"Selects the SCA Method for use.","operationId":"selectMethodUsingPOST_3","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"Cookie","in":"header","description":"Cookie","required":false,"type":"string"},{"name":"authorisationId","in":"path","description":"authorisationId","required":true,"type":"string"},{"name":"methodId","in":"path","description":"methodId","required":true,"type":"string"},{"name":"scaId","in":"path","description":"scaId","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/AuthorizeResponse"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"security":[{"apiKey":[]}],"deprecated":false}}},"securityDefinitions":{"apiKey":{"type":"apiKey","name":"Authorization","in":"header"}},"definitions":{"AccountAccessTO":{"type":"object","properties":{"accessType":{"type":"string","enum":["OWNER","READ","DISPOSE"]},"iban":{"type":"string"},"id":{"type":"string"},"scaWeight":{"type":"integer","format":"int32"}},"title":"AccountAccessTO"},"AccountBalanceTO":{"type":"object","properties":{"amount":{"$ref":"#/definitions/AmountTO"},"balanceType":{"type":"string","enum":["CLOSING_BOOKED","EXPECTED","AUTHORISED","OPENING_BOOKED","INTERIM_AVAILABLE","FORWARD_AVAILABLE","NONINVOICED"]},"lastChangeDateTime":{"type":"string","format":"date-time"},"lastCommittedTransaction":{"type":"string"},"referenceDate":{"type":"string","format":"date"}},"title":"AccountBalanceTO"},"AccountDetailsTO":{"type":"object","properties":{"accountStatus":{"type":"string","enum":["ENABLED","DELETED","BLOCKED"]},"accountType":{"type":"string","enum":["CACC","CASH","CHAR","CISH","COMM","CPAC","LLSV","LOAN","MGLD","MOMA","NREX","ODFT","ONDP","OTHR","SACC","SLRY","SVGS","TAXE","TRAN","TRAS"]},"balances":{"type":"array","items":{"$ref":"#/definitions/AccountBalanceTO"}},"bban":{"type":"string"},"bic":{"type":"string"},"currency":{"type":"string"},"details":{"type":"string"},"iban":{"type":"string"},"id":{"type":"string"},"linkedAccounts":{"type":"string"},"maskedPan":{"type":"string"},"msisdn":{"type":"string"},"name":{"type":"string"},"pan":{"type":"string"},"product":{"type":"string"},"usageType":{"type":"string","enum":["PRIV","ORGA"]}},"title":"AccountDetailsTO"},"AccountReference":{"type":"object","properties":{"aspspAccountId":{"type":"string","example":"123-DEDE89370400440532013000-EUR"},"bban":{"type":"string","example":89370400440532013000,"description":"BBAN: This data elements is used for payment accounts which have no IBAN"},"currency":{"type":"string","example":"EUR","description":"Codes following ISO 4217"},"iban":{"type":"string","example":"DE89370400440532013000","description":"IBAN: This data element can be used in the body of the CreateConsentReq Request Message for retrieving account access consent from this payment account"},"maskedPan":{"type":"string","example":"2356xxxxxx1234","description":"MASKEDPAN: Primary Account Number (PAN) of a card in a masked form."},"msisdn":{"type":"string","example":"+49(0)911 360698-0","description":"MSISDN: An alias to access a payment account via a registered mobile phone number. This alias might be needed e.g. in the payment initiation service, cp. Section 5.3.1. The support of this alias must be explicitly documented by the ASPSP for the corresponding API calls."},"pan":{"type":"string","example":"2356 5746 3217 1234","description":"PAN: Primary Account Number (PAN) of a card, can be tokenized by the ASPSP due to PCI DSS requirements."},"resourceId":{"type":"string","description":"RESOURCE-ID: This identification is denoting the addressed account."}},"title":"AccountReference","description":"Account Reference"},"AccountReferenceTO":{"type":"object","properties":{"bban":{"type":"string"},"currency":{"type":"string"},"iban":{"type":"string"},"maskedPan":{"type":"string"},"msisdn":{"type":"string"},"pan":{"type":"string"}},"title":"AccountReferenceTO"},"AddressTO":{"type":"object","properties":{"buildingNumber":{"type":"string"},"city":{"type":"string"},"country":{"type":"string"},"postalCode":{"type":"string"},"street":{"type":"string"}},"title":"AddressTO"},"AisAccountAccess":{"type":"object","properties":{"accounts":{"type":"array","items":{"$ref":"#/definitions/AccountReference"}},"allPsd2":{"type":"string"},"availableAccounts":{"type":"string"},"availableAccountsWithBalances":{"type":"string"},"balances":{"type":"array","items":{"$ref":"#/definitions/AccountReference"}},"transactions":{"type":"array","items":{"$ref":"#/definitions/AccountReference"}}},"title":"AisAccountAccess"},"AisAccountAccessInfo":{"type":"object","properties":{"accounts":{"type":"array","description":"Access to accounts","items":{"type":"string"}},"allPsd2":{"type":"string","example":"ALL_ACCOUNTS","description":"Consent on all accounts, balances and transactions of psu","enum":["ALL_ACCOUNTS","ALL_ACCOUNTS_WITH_BALANCES"]},"availableAccounts":{"type":"string","example":"ALL_ACCOUNTS","description":"Consent on all available accounts of psu","enum":["ALL_ACCOUNTS","ALL_ACCOUNTS_WITH_BALANCES"]},"balances":{"type":"array","description":"Access to balances","items":{"type":"string"}},"transactions":{"type":"array","description":"Access to transactions","items":{"type":"string"}}},"title":"AisAccountAccessInfo","description":"Ais account access information"},"AisAccountConsent":{"type":"object","properties":{"access":{"$ref":"#/definitions/AisAccountAccess"},"accountConsentAuthorizations":{"type":"array","items":{"$ref":"#/definitions/AisAccountConsentAuthorisation"}},"aisConsentRequestType":{"type":"string","enum":["GLOBAL","ALL_AVAILABLE_ACCOUNTS","BANK_OFFERED","DEDICATED_ACCOUNTS"]},"consentStatus":{"type":"string","enum":["RECEIVED","REJECTED","VALID","REVOKED_BY_PSU","EXPIRED","TERMINATED_BY_TPP","TERMINATED_BY_ASPSP","PARTIALLY_AUTHORISED"]},"creationTimestamp":{"type":"string","format":"date-time"},"frequencyPerDay":{"type":"integer","format":"int32"},"id":{"type":"string"},"lastActionDate":{"type":"string","format":"date"},"multilevelScaRequired":{"type":"boolean"},"psuIdDataList":{"type":"array","items":{"$ref":"#/definitions/PsuIdData"}},"recurringIndicator":{"type":"boolean"},"statusChangeTimestamp":{"type":"string","format":"date-time"},"tppInfo":{"$ref":"#/definitions/TppInfo"},"tppRedirectPreferred":{"type":"boolean"},"usageCounterMap":{"type":"object","additionalProperties":{"type":"integer","format":"int32"}},"validUntil":{"type":"string","format":"date"},"withBalance":{"type":"boolean"}},"title":"AisAccountConsent"},"AisAccountConsentAuthorisation":{"type":"object","properties":{"psuIdData":{"$ref":"#/definitions/PsuIdData"},"scaStatus":{"type":"string","enum":["received","psuIdentified","psuAuthenticated","scaMethodSelected","started","finalised","failed","exempted"]}},"title":"AisAccountConsentAuthorisation"},"AisConsentRequest":{"type":"object","required":["access","frequencyPerDay","id","recurringIndicator","tppId","userId","validUntil"],"properties":{"access":{"description":"Set of accesses given by psu for this account","$ref":"#/definitions/AisAccountAccessInfo"},"frequencyPerDay":{"type":"integer","format":"int32","example":4,"description":"Maximum frequency for an access per day. For a once-off access, this attribute is set to 1"},"id":{"type":"string","description":"The consent id"},"recurringIndicator":{"type":"boolean","example":false,"description":"'true', if the consent is for recurring access to the account data , 'false', if the consent is for one access to the account data"},"tppId":{"type":"string","example":"testTPP","description":"ID of the corresponding TPP."},"userId":{"type":"string","description":"Corresponding PSU"},"validUntil":{"type":"string","format":"date","example":"2020-10-10","description":"Consent`s expiration date. The content is the local ASPSP date in ISODate Format"}},"title":"AisConsentRequest","description":"Ais consent request"},"AmountTO":{"type":"object","properties":{"amount":{"type":"number"},"currency":{"type":"string"}},"title":"AmountTO"},"AuthorizeResponse":{"type":"object","properties":{"authorisationId":{"type":"string"},"encryptedConsentId":{"type":"string"},"psuMessages":{"type":"array","items":{"$ref":"#/definitions/PsuMessage"}},"scaMethods":{"type":"array","items":{"$ref":"#/definitions/ScaUserDataTO"}},"scaStatus":{"type":"string","enum":["received","psuIdentified","psuAuthenticated","scaMethodSelected","started","finalised","failed","exempted"]}},"title":"AuthorizeResponse"},"BulkPaymentTO":{"type":"object","properties":{"batchBookingPreferred":{"type":"boolean"},"debtorAccount":{"$ref":"#/definitions/AccountReferenceTO"},"paymentId":{"type":"string"},"paymentProduct":{"type":"string","enum":["SEPA","INSTANT_SEPA","TARGET2","CROSS_BORDER"]},"paymentStatus":{"type":"string","enum":["ACCC","ACCP","ACSC","ACSP","ACTC","ACWC","ACWP","RCVD","PDNG","RJCT","CANC","ACFC","PATC"]},"payments":{"type":"array","items":{"$ref":"#/definitions/SinglePaymentTO"}},"requestedExecutionDate":{"type":"string","format":"date"}},"title":"BulkPaymentTO"},"ConsentAuthorizeResponse":{"type":"object","properties":{"accounts":{"type":"array","items":{"$ref":"#/definitions/AccountDetailsTO"}},"authMessageTemplate":{"type":"string"},"authorisationId":{"type":"string"},"consent":{"$ref":"#/definitions/AisConsentRequest"},"encryptedConsentId":{"type":"string"},"psuMessages":{"type":"array","items":{"$ref":"#/definitions/PsuMessage"}},"scaMethods":{"type":"array","items":{"$ref":"#/definitions/ScaUserDataTO"}},"scaStatus":{"type":"string","enum":["received","psuIdentified","psuAuthenticated","scaMethodSelected","started","finalised","failed","exempted"]}},"title":"ConsentAuthorizeResponse"},"LocalTime":{"type":"object","properties":{"hour":{"type":"integer","format":"int32"},"minute":{"type":"integer","format":"int32"},"nano":{"type":"integer","format":"int32"},"second":{"type":"integer","format":"int32"}},"title":"LocalTime"},"PIISConsentCreateResponse":{"type":"object","properties":{"consent":{"$ref":"#/definitions/AisConsentRequest"},"psuMessages":{"type":"array","items":{"$ref":"#/definitions/PsuMessage"}}},"title":"PIISConsentCreateResponse"},"PaymentAuthorizeResponse":{"type":"object","properties":{"authMessageTemplate":{"type":"string"},"authorisationId":{"type":"string"},"bulkPayment":{"$ref":"#/definitions/BulkPaymentTO"},"encryptedConsentId":{"type":"string"},"periodicPayment":{"$ref":"#/definitions/PeriodicPaymentTO"},"psuMessages":{"type":"array","items":{"$ref":"#/definitions/PsuMessage"}},"scaMethods":{"type":"array","items":{"$ref":"#/definitions/ScaUserDataTO"}},"scaStatus":{"type":"string","enum":["received","psuIdentified","psuAuthenticated","scaMethodSelected","started","finalised","failed","exempted"]},"singlePayment":{"$ref":"#/definitions/SinglePaymentTO"}},"title":"PaymentAuthorizeResponse"},"PeriodicPaymentTO":{"type":"object","properties":{"creditorAccount":{"$ref":"#/definitions/AccountReferenceTO"},"creditorAddress":{"$ref":"#/definitions/AddressTO"},"creditorAgent":{"type":"string"},"creditorName":{"type":"string"},"dayOfExecution":{"type":"integer","format":"int32"},"debtorAccount":{"$ref":"#/definitions/AccountReferenceTO"},"endDate":{"type":"string","format":"date"},"endToEndIdentification":{"type":"string"},"executionRule":{"type":"string"},"frequency":{"type":"string","enum":["Daily","Weekly","EveryTwoWeeks","Monthly","EveryTwoMonths","Quarterly","SemiAnnual","Annual"]},"instructedAmount":{"$ref":"#/definitions/AmountTO"},"paymentId":{"type":"string"},"paymentProduct":{"type":"string","enum":["SEPA","INSTANT_SEPA","TARGET2","CROSS_BORDER"]},"paymentStatus":{"type":"string","enum":["ACCC","ACCP","ACSC","ACSP","ACTC","ACWC","ACWP","RCVD","PDNG","RJCT","CANC","ACFC","PATC"]},"remittanceInformationUnstructured":{"type":"string"},"requestedExecutionDate":{"type":"string","format":"date"},"requestedExecutionTime":{"$ref":"#/definitions/LocalTime"},"startDate":{"type":"string","format":"date"}},"title":"PeriodicPaymentTO"},"PiisConsentRequest":{"type":"object","required":["allowedFrequencyPerDay"],"properties":{"accounts":{"type":"array","description":"Accounts for which the consent is created","items":{"$ref":"#/definitions/AccountReferenceTO"}},"allowedFrequencyPerDay":{"type":"integer","format":"int32","example":4,"description":"Maximum frequency for an access per day. For a once-off access, this attribute is set to 1"},"tppInfo":{"description":"Tpp for which the consent will be created. If the property is omitted, the consent will be created for all TPPs","$ref":"#/definitions/TppInfo"},"validUntil":{"type":"string","format":"date","example":"2020-10-10","description":"Consent`s expiration date. The content is the local ASPSP date in ISODate Format"}},"title":"PiisConsentRequest","description":"Piis consent request"},"PsuIdData":{"type":"object","properties":{"psuCorporateId":{"type":"string"},"psuCorporateIdType":{"type":"string"},"psuId":{"type":"string"},"psuIdType":{"type":"string"}},"title":"PsuIdData"},"PsuMessage":{"type":"object","required":["category","code"],"properties":{"category":{"type":"string","enum":["ERROR","WARNING","INFO"]},"code":{"type":"string"},"path":{"type":"string"},"text":{"type":"string"}},"title":"PsuMessage"},"ScaUserDataTO":{"type":"object","properties":{"id":{"type":"string"},"methodValue":{"type":"string"},"scaMethod":{"type":"string","enum":["EMAIL","MOBILE"]},"staticTan":{"type":"string"},"user":{"$ref":"#/definitions/UserTO"},"usesStaticTan":{"type":"boolean"}},"title":"ScaUserDataTO"},"SinglePaymentTO":{"type":"object","properties":{"creditorAccount":{"$ref":"#/definitions/AccountReferenceTO"},"creditorAddress":{"$ref":"#/definitions/AddressTO"},"creditorAgent":{"type":"string"},"creditorName":{"type":"string"},"debtorAccount":{"$ref":"#/definitions/AccountReferenceTO"},"endToEndIdentification":{"type":"string"},"instructedAmount":{"$ref":"#/definitions/AmountTO"},"paymentId":{"type":"string"},"paymentProduct":{"type":"string","enum":["SEPA","INSTANT_SEPA","TARGET2","CROSS_BORDER"]},"paymentStatus":{"type":"string","enum":["ACCC","ACCP","ACSC","ACSP","ACTC","ACWC","ACWP","RCVD","PDNG","RJCT","CANC","ACFC","PATC"]},"remittanceInformationUnstructured":{"type":"string"},"requestedExecutionDate":{"type":"string","format":"date"},"requestedExecutionTime":{"$ref":"#/definitions/LocalTime"}},"title":"SinglePaymentTO"},"TppInfo":{"type":"object","required":["authorisationNumber","authorityId","authorityName","city","country","issuerCN","organisation","organisationUnit","state","tppName","tppRoles"],"properties":{"authorisationNumber":{"type":"string","example":12345987,"description":"Authorization number"},"authorityId":{"type":"string","example":"authority id","description":"National competent authority id"},"authorityName":{"type":"string","example":"authority name","description":"National competent authority name"},"cancelTppRedirectUri":{"description":"Cancel TPP redirect URIs","$ref":"#/definitions/TppRedirectUri"},"city":{"type":"string","example":"Nuremberg","description":"City"},"country":{"type":"string","example":"Germany","description":"Country"},"issuerCN":{"type":"string","example":"Authority CA Domain Name","description":"Issuer CN"},"organisation":{"type":"string","example":"Organisation","description":"Organisation"},"organisationUnit":{"type":"string","example":"Organisation unit","description":"Organisation unit"},"state":{"type":"string","example":"Bayern","description":"State"},"tppName":{"type":"string","example":"Tpp company","description":"Tpp name"},"tppRedirectUri":{"description":"TPP redirect URIs","$ref":"#/definitions/TppRedirectUri"},"tppRoles":{"type":"array","description":"Tpp role","items":{"type":"string","enum":["PISP","AISP","PIISP","ASPSP"]}}},"title":"TppInfo"},"TppRedirectUri":{"type":"object","required":["uri"],"properties":{"nokUri":{"type":"string","example":"Nok redirect URI","description":"Nok redirect URI"},"uri":{"type":"string","example":"Redirect URI","description":"Redirect URI"}},"title":"TppRedirectUri"},"UserTO":{"type":"object","properties":{"accountAccesses":{"type":"array","items":{"$ref":"#/definitions/AccountAccessTO"}},"branch":{"type":"string"},"email":{"type":"string"},"id":{"type":"string"},"login":{"type":"string"},"pin":{"type":"string"},"scaUserData":{"type":"array","items":{"$ref":"#/definitions/ScaUserDataTO"}},"userRoles":{"type":"array","items":{"type":"string","enum":["CUSTOMER","STAFF","TECHNICAL","SYSTEM"]}}},"title":"UserTO"}}}